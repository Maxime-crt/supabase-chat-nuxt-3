<template>
  <div class="scroll-container" ref="scrollContainer">
    <!-- votre contenu ici -->
    Lorem, ipsum dolor sit amet consectetur adipisicing elit. Deleniti explicabo
    beatae ullam dolores distinctio natus expedita accusantium reprehenderit
    error nesciunt ipsam non esse qui similique minima autem itaque aspernatur
    et aperiam, atque voluptatem maxime? Alias esse iure delectus ipsa aperiam
    hic aut itaque velit eaque sed! Illum in soluta dolorum maxime. Culpa
    debitis possimus libero minus ab? Labore hic vel consequatur eius ducimus ad
    nihil in quis mollitia molestias sint, assumenda, harum vitae? Optio animi
    nihil architecto sed repudiandae est consequatur dicta! Modi, voluptatem
    eveniet at error exercitationem eos quos vel, aspernatur beatae distinctio
    rem autem, officia mollitia. Officiis corrupti, reiciendis facilis ad
    aliquid veniam nesciunt eius esse sed eos minima ex consequuntur suscipit
    expedita neque totam atque, soluta laboriosam et qui pariatur! Accusantium,
    quis cum. Accusantium laborum placeat eveniet itaque minima? Corporis
    necessitatibus velit recusandae. Accusantium cumque minus assumenda eligendi
    necessitatibus, inventore quos ipsum tenetur eveniet deleniti illo,
    reiciendis, aliquid nemo! Commodi deleniti voluptatibus omnis quas
    similique, tempora, suscipit maxime exercitationem vitae libero, et
    consequuntur ut molestiae impedit distinctio. Repudiandae nobis atque
    suscipit dolore qui a rem architecto, inventore vel odit facere delectus
    tempore eaque dignissimos sequi ad laudantium fugit ducimus obcaecati at
    non! Molestias quibusdam sed deleniti blanditiis minus ad dolor voluptates
    repudiandae quasi aliquid magnam hic provident id adipisci consequuntur cum,
    voluptatibus aperiam ducimus veritatis debitis! Dolores expedita nesciunt
    suscipit laboriosam delectus molestias cupiditate pariatur libero aliquid,
    autem magnam repellendus, a reprehenderit repellat ipsa itaque, praesentium
    quam. Ut nulla error officia tempore beatae voluptates eveniet aliquid nobis
    aperiam ipsum sunt aut cupiditate, a omnis fugit provident quasi unde
    repellendus harum consequatur? Architecto ipsum optio suscipit doloribus
    animi quod cupiditate iure saepe voluptatum dolore neque cum sequi qui, quia
    dolorem? Optio assumenda sint obcaecati dignissimos ad aliquam odit
    aspernatur harum dicta. Consectetur quasi ipsam modi quos error nobis
    magnam? Expedita, ut qui? Debitis quis soluta laudantium error. Sapiente,
    nobis magnam eum alias ipsum at architecto laborum quibusdam obcaecati iure
    non tempora nam voluptatum numquam ea quae possimus nemo enim, nesciunt cum
    molestias? Enim maxime consequuntur magni ipsa et molestiae corrupti facere
    voluptatibus natus ipsum? Fuga nemo nesciunt quo ea ab eaque voluptates nam
    in quaerat! Distinctio ducimus accusamus earum ratione nisi veritatis, culpa
    maiores, quam iste asperiores dolorem ullam porro amet voluptate, eum
    praesentium. Deleniti, soluta hic! Provident commodi laborum perspiciatis
    cupiditate! Amet quo molestiae officia, corrupti temporibus atque maxime
    accusamus non, similique ipsam beatae sed! Incidunt in temporibus totam quam
    perferendis esse soluta velit laboriosam similique! Mollitia architecto
    amet, fugit quod quam perferendis reiciendis? Numquam possimus magnam
    distinctio ipsam. Reiciendis voluptas corporis tempore libero architecto
    facere nisi suscipit, repellat alias quidem. Quia eius tempore mollitia
    accusamus nobis iusto ducimus ex ut quasi sit. Tempora deserunt atque
    nostrum alias earum cupiditate soluta doloremque perspiciatis fuga veniam
    magni minus eum odit esse, illum beatae quas temporibus ducimus vitae odio
    pariatur laudantium, maiores minima. Animi facere, vitae praesentium iste
    unde nesciunt doloribus exercitationem? Necessitatibus expedita, corporis
    facere nulla accusamus ab. Voluptas accusamus aperiam ex perspiciatis
    voluptate omnis, mollitia architecto nesciunt eligendi, assumenda officiis
    doloribus esse perferendis. Ipsam soluta esse voluptates! Alias dignissimos
    ratione, dolore commodi quae eaque iure deserunt neque molestiae ipsum
    beatae officiis accusantium facilis! Eum dolorem delectus tempore magnam
    laudantium officia ea voluptatum fugiat ut ad a pariatur quasi eius facilis
    tempora nostrum quae rerum dignissimos id sunt, accusamus at corrupti!
    Laborum eaque, eius rerum odit velit, sunt dolore dolor rem repudiandae
    facere maxime enim accusantium, quisquam quos commodi repellendus? Omnis
    magnam et suscipit ab, explicabo hic possimus laborum illum sit iusto
    repudiandae distinctio nam voluptatem! Repellendus consequatur non quod
    impedit commodi doloribus ipsum numquam debitis magni eligendi incidunt
    delectus nulla id odio, sed modi dolorem porro autem? Error accusantium
    consectetur exercitationem autem quibusdam dicta sunt quisquam amet quo qui
    similique, esse optio tenetur odit quam. Ipsa, natus? Iure enim, nisi quae
    obcaecati aliquam iste doloribus maiores sunt molestiae fugit nostrum amet
    officia nesciunt animi et debitis reiciendis quod repellat, ut natus
    officiis mollitia corporis labore sint. Fugiat temporibus illo ad
    consequatur recusandae, quibusdam pariatur nesciunt dolor corrupti velit,
    qui veritatis amet officia obcaecati accusamus tempora officiis? Rerum
    laboriosam adipisci commodi, aliquid alias nisi nesciunt voluptate error
    modi ducimus labore obcaecati sunt architecto facere praesentium possimus
    earum eius doloribus est tenetur necessitatibus veritatis quos voluptatem!
    Quam corrupti labore qui nobis et similique odio aut sapiente? Harum,
    quaerat deleniti voluptate aliquam accusantium nulla consequuntur laudantium
    enim inventore! Maxime ea modi commodi, reprehenderit natus officiis. Culpa
    repudiandae expedita officia praesentium sint numquam asperiores
    perferendis, eius dignissimos rem dolore doloribus itaque. Libero neque
    fugit amet quam earum? Voluptate voluptatum possimus repudiandae itaque,
    autem mollitia doloribus animi ab nam accusamus blanditiis provident
    corrupti, architecto culpa quasi adipisci porro accusantium suscipit?
    Incidunt assumenda sequi sed dolor magnam adipisci enim quibusdam ad
    pariatur quisquam voluptatum, accusantium tenetur quod quae omnis
    perferendis eum fugiat impedit aperiam. Culpa exercitationem quas aliquid
    dolore, debitis repellendus quos ea eligendi natus nam consectetur sapiente
    non! Deleniti rerum assumenda asperiores quisquam voluptatibus libero
    facere, quasi quam facilis corrupti recusandae omnis iusto porro odit!
    Inventore eos quod ea eius labore deserunt alias nostrum dolorem aperiam
    sapiente? Soluta et maxime, maiores quas doloribus eveniet ex impedit
    temporibus labore placeat eum dicta minus hic delectus, harum qui est.
    Assumenda consequatur fuga inventore. Minima, tempora quibusdam? Nobis
    obcaecati quaerat a ullam ipsam nemo rem earum doloribus, ut odit
    consequatur magnam, laboriosam excepturi similique odio. Perferendis, quis
    nostrum facere magni nulla adipisci suscipit facilis nobis molestias,
    distinctio itaque, quo dicta mollitia accusantium enim temporibus delectus
    animi eos? Natus, corporis. Odio sit sed commodi laudantium laboriosam
    reprehenderit doloribus at minus, accusamus itaque aliquid, deleniti
    quisquam velit labore nostrum. Voluptatum qui itaque odio et, accusamus
    vitae blanditiis magni laudantium quam! Saepe sapiente possimus numquam
    mollitia provident, excepturi doloremque ullam quibusdam asperiores, dolorem
    atque maiores nisi eligendi suscipit cum recusandae eius hic voluptates
    blanditiis earum aut eveniet est? Laudantium laboriosam ea at saepe
    cupiditate, nam officiis? Quasi maiores alias neque eos in qui, velit quis
    hic numquam officia odit nulla consequuntur dignissimos placeat impedit
    laudantium sit voluptatibus nemo.
    <div v-if="showSubscribeModal" class="subscribe-modal">
      Voulez-vous vous inscrire à notre newsletter ?
      <button @click="subscribe">Oui</button>
      <button @click="dismissSubscribeModal">Non</button>
    </div>
  </div>
</template>

<script setup>
const scrollContainer = ref(null);
const showSubscribeModal = ref(false);

const handleScroll = () => {
  if (
    scrollContainer.value.scrollTop + scrollContainer.value.clientHeight >=
    scrollContainer.value.scrollHeight
  ) {
    showSubscribeModal.value = true;
  }
};

onMounted(() => {
  scrollContainer.value.addEventListener("scroll", handleScroll);
});

const subscribe = () => {
  // code pour s'inscrire à la newsletter ici
};

const dismissSubscribeModal = () => {
  showSubscribeModal.value = false;
};
</script>

<style>
.scroll-container {
  overflow-y: scroll;
  height: 100vh;
}

.subscribe-modal {
  position: fixed;
  bottom: 0;
  left: 0;
  background-color: white;
  padding: 1em;
  border: 1px solid gray;
}
</style>
